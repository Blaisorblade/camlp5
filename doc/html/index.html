<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" 
 "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
<head>
  <!-- $Id$ -->
  <!-- Copyright (c) 2007 INRIA -->
  <title>Camlp5</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <link rel="shortcut icon" href="c4logo.png" />
  <link rel="stylesheet" type="text/css" href="styles/base.css" />
</head>
<body>

<div id="menu">
  <h1>- Camlp5 -</h1>
  <ul>
    <li><a href="index.html">overview</a></li>
  </ul>
  <ul>
    <li>Parsing
      <ul>
        <li><a href="parsers.html">parsers</a></li>
        <li><a href="lexers.html">lexers</a></li>
        <li><a href="fparsers.html">functional parsers</a></li>
      </ul>
    </li>
    <li>Printing
      <ul>
        <li><a href="pretty.html">library module</a></li>
        <li><a href="opretty.html">programs</a></li>
      </ul>
    </li>
    <li>Other
      <ul>
        <li><a href="ml_ast.html">syntax tree</a></li>
        <li><a href="pragma.html">pragma directive</a></li>
        <li><a href="extfun.html">extensible functions</a></li>
      </ul>
    </li>
  </ul>
</div>

<div id="content">

<h1 class="top">Overview</h1>

<p>Camlp5 is a preprocessor and pretty-printer for ocaml programs.</p>

<p>As a preprocessor, it allows to:</p>

<ul>

  <li>add syntax extensions,</li>
  <li>redefine the whole syntax of the language.</li>

</ul>

<p>As a pretty printer, it allows to:</p>

<ul>

  <li>display programs in a elegant way,</li>
  <li>convert from a syntax to another,</li>
  <li>check the results of syntax extensions.</li>

</ul>

<p>It works as a shell command and can also be used in the ocaml
toplevel.</p>

<h2>Commands</h2>

<p>The main shell commands are:</p>

<ul>
  <li><tt>camlp5o</tt> : treating files written in normal ocaml
  syntax,</li>
  <li><tt>camlp5r</tt> : treating files written in an original syntax
    named the <em>revised syntax</em>.</li>
</ul>

<p>These commands can be given as parameters of the
option <tt>-pp</tt> of the ocaml compiler. Examples:</p>

<pre>
ocamlc -pp camlp5o foo.ml
ocamlc -pp camlp5r bar.ml
</pre>

<p>This way, the parsing is done by camlp5. In case of syntax errors,
the parsing fails with an error message and the compilation is
aborted. Otherwise, the ocaml compiler continues with the syntax tree
provided by camlp5.</p>

<p>In the toplevel, it is possible to preprocess the input phrases by
loading one of the files <tt>camlp5o.cma</tt> or <tt>camlp5r.cma</tt>.
The common usage is:</p>

<pre>
ocaml -I +camlp5 camlp5o.cma
ocaml -I +camlp5 camlp5r.cma
</pre>

<div class="trailer">

  <hr style="margin:0" /><div style="font-size: 80%"><em>Copyright 2007
      Daniel de Rauglaudre (INRIA)</em></div>

  <p class="bottom">
    <a href="http://validator.w3.org/check?uri=referer"><img
       src="http://www.w3.org/Icons/valid-xhtml11" style="border:0"
       alt="Valid XHTML 1.1" height="31" width="88" /></a>
  </p>

</div>

</div>

</body>
</html>
