<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" 
 "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <!-- $Id: library.html,v 1.3 2007/08/19 14:39:44 deraugla Exp $ -->
  <!-- Copyright (c) 2007 INRIA -->
  <title>Library</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <link rel="stylesheet" type="text/css" href="styles/base.css"
        title="Normal" />
</head>
<body>

<div id="menu">
</div>

<div id="content">

<h1 class="top">Library</h1>

<div id="tableofcontents">
</div>

<h2>Stdpp module</h2>

<p>Building and combining locations.</p>

<dl>
  <dt><tt>type location = 'abstract;</tt></dt>
</dl>

<h3>located exceptions</h3>

<dl>
  <dt><tt>exception Exc_located of location and exn;</tt></dt>
  <dd>[Exc_located loc e] is an encapsulation of the exception [e] with
    the input location [loc]. To be used to specify a location
    for an error. This exception must not be raised by [raise] but
    rather by [raise_with_loc] (see below), to prevent the risk of
    several encapsulations of [Exc_located].</dd>
  <dt><tt>value raise_with_loc : location -> exn -> 'a;</tt></dt>
  <dd>[raise_with_loc loc e], if [e] is already the exception [Exc_located],
    re-raise it (ignoring the new location [loc]), else raise the
    exception [Exc_located loc e].</dd>
</dl>

<h3>making locations</h3>

<dl>
  <dt><tt>value make_lined_loc : int -> int -> (int * int) ->
      location;</tt></dt>
  <dd>[make_lined_loc line_nb bol_pos (bp, ep)] creates a location
    starting at line number [line_nb], where the position of the
    beginning of the line is [bol_pos] and between the positions [bp]
    (included) and [ep] excluded. The positions are in number of
    characters since the begin of the stream.</dd>
  <dt><tt>value make_loc : (int * int) -> location;</tt></dt>
  <dd>[make_loc] is like [make_lined_loc] except that the line number
    is not provided (to be used e.g. when the line number is
    unknown).</dd>
</dl>

<dl>
  <dt><tt>value dummy_loc : location;</tt></dt>
  <dd>[dummy_loc] is a dummy location, used in situations when
    location has no meaning.</dd>
</dl>

<h3>getting location info</h3>

<dl>
  <dt><tt>value first_pos : location -> int;</tt></dt>
  <dd>[first_pos loc] returns the position of the begin of the location in
    number of characters since the beginning of the stream.</dd>
  <dt><tt>value last_pos : location -> int;</tt></dt>
  <dd>[first_pos loc] returns the position of the first character not
    of the location in number of characters since the beginning of
    the stream.</dd>
  <dt><tt>value line_nb : location -> int;</tt></dt>
  <dd>[line_nb loc] returns the line number of the location or [-1] if
    the location does not contain a line number (i.e. built the old
    way with [make_loc] above.</dd>
  <dt><tt>value bol_pos : location -> int;</tt></dt>
  <dd>[line_nb loc] returns the position of the beginning of the line
    of the location in number of characters since the beginning of
    the stream, or [0] if the location does not contain a line number
    (i.e. built the old with with [make_loc] above.</dd>
</dl>

<h3>combining locations</h3>

<dl>
  <dt><tt>value encl_loc : location -> location -> location;</tt></dt>
  <dd>[encl_loc loc1 loc2] returns the location starting at the smallest
    start and ending at the greatest end of the locations [loc1] and
    [loc2]. In other words, it is the location enclosing [loc1] and
    [loc2].</dd>
  <dt><tt>value shift_loc : int -> location -> location;</tt></dt>
  <dd>[shift_loc sh loc] returns the location [loc] shifted with [sh]
    characters. The line number is not recomputed.</dd>
  <dt><tt>value sub_loc : location -> int -> int -> location;</tt></dt>
  <dd>[sub_loc loc sh len] is the location [loc] shifted with [sh] characters
    and with length [len]. The previous ending position of the location
    is lost.</dd>
  <dt><tt>value after_loc : location -> int -> int -> location;</tt></dt>
  <dd>[after_loc loc sh len] is the location just after loc (starting at
    the end position of [loc]) shifted with [sh] characters and of length
    [len].</dd>
</dl>

<h3>miscellaneous</h3>

<dl>
  <dt><tt>value loc_name : ref string;</tt></dt>
  <dd>[loc_name.val] is the name of the location variable used in
    grammars and in the predefined quotations for OCaml syntax
    trees. Default: ["loc"].</dd>
</dl>

<dl>
  <dt><tt>value line_of_loc : string -> location -> (string * int *
      int * int);</tt></dt>
  <dd>[line_of_loc fname loc] reads the file [fname] up to the
    location [loc] and returns the real input file, the line number and
    the characters location in the line; the real input file can be
    different from [fname] because of possibility of line directives
    typically generated by /lib/cpp.</dd>
</h3>

<h2>Token module</h2>

<p>... to be written ...</p>

<h2>Plexer module</h2>

<p>This module contains the lexer used for ocaml syntax (revised and
  normal).</p>

<p>... to be continued ...</p>

<h2>Gramext module</h2>

<p>... to be written ...</p>

<h2>Grammar module</h2>

<p>... to be written ...</p>

<h2>Extfold module</h2>

<p>... to be written ...</p>

<h2>Extfun module</h2>

<p>... to be written ...</p>

<h2>Eprinter module</h2>

<p>... to be written ...</p>

<h2>Fstream module</h2>

<p>... to be written ...</p>

<h2>Pretty module</h2>

<p>... to be written ...</p>

<div class="trailer">
</div>

</div>

</body>
</html>
